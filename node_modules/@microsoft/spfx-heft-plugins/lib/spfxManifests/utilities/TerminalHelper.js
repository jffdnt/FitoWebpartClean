"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TerminalHelper = void 0;
const terminal_1 = require("@rushstack/terminal");
/**
 * Terminal utility functions.
 * @public
 */
class TerminalHelper {
    /**
     * Terminal instance creator for use in webpack plugins and loaders.
     * @param compilation - webpack compilation.
     */
    static getTerminalForWebpackPlugin(compilation) {
        const { WebpackError } = compilation.compiler.webpack;
        return new terminal_1.Terminal({
            eolCharacter: '\n',
            supportsColor: false,
            write: (message, severity) => {
                switch (severity) {
                    case terminal_1.TerminalProviderSeverity.error: {
                        compilation.errors.push(new WebpackError(message.trim()));
                        break;
                    }
                    case terminal_1.TerminalProviderSeverity.warning: {
                        compilation.warnings.push(new WebpackError(message.trim()));
                        break;
                    }
                }
            }
        });
    }
}
exports.TerminalHelper = TerminalHelper;
//# sourceMappingURL=TerminalHelper.js.map